check sopclassuid at hug

- select JPEGlossless & lossy
- look at console messages (on both side)

- minIP for 3D MPR
- displaySamePatientWithColorBackground preferences
- C-GET SCU/SCP (Dynamic IP address DICOM transfers)
- Settings for compression per modality
- JP2000 compression support, with quality option
- Better compression/decompression performances when receiving DICOM images
- Soundex (search on pronunciation, instead of orthography) option when searching for patient names
- Series comments/state displayed in Web Server
- Support for OpenJPEG JPEG2000 encoding
- OpenJPEG is 2.2x times faster : OpenJPEG is now faster than JasperLib

- Option to include 3D viewers in Tile Window

- DICOM TLS
- Merge SR with VR : add SR option
- ROI Manager (series level)
- Hanging Protocols
- 4D Support for DICOM Export in 2D Viewer
- Display current image in 3D plane
- Registration see Volview - Plugin
- Sync Ortho-MPR

- test customize toolbar MPR Controller (-[NSConcreteAttributedString initWithString:] called with nil string argument. This has undefined behavior and will raise an exception in post-Leopard linked apps. This warning is displayed only once.)


QA
- BugZilla (sourceforge?)
- EggPlant
- UnitTesting (assert functions)
- Regression tests
- ILCrashReporter
- Doxygen
- SVN - Version

----------------------------------------
Cleaning Notes
----------------------------------------
- spelling of "raw" - should be lower case
	in "File Menu > Import > Import Raw Data..." - correct spelling
	in "File Menu > Export > Export to RAW" - wrong spelling
- PagePad (toolbar item of the 2D viewer)
	- place this in a plugin
	- remove from main code
- ROI Manager
	renaming a ROI from the ROI Manager will rename all ROIs with the same name
		OK in general
		NOT OK if the ROI name is "Unnamed" (Default) because all other "Unnamed" ROIs will be renamed
- WL / WW drop-down menu (in the 2D viewer toolbar)
	- the presets are labeled 1, 2, 3, ..., 9, 10, ... but only 1-9 work for key board shortcuts
		-> remove the label for 10 and up
- Convolutions filters
	- there are 2 "highpass" filters with (almost) the same name :
		- highpass
		- Highpass
	rename them to :
		- Highpass 5x5
		- Highpass 3x3
- Mouse button function : ROIs
	What should we do of the "Axis" and "Dynamic Angle" ROIs ??
- Broadcast
	We should name it "iChat"
- Key image (in the 2D viewer toolbar)
	Remove the Key Object Note : does not work properly
- Cobb's Angle
	The name of this tool in the toolbar is "Cobb's". Should be "Cobb" or "Cobb Angle"

- 3D MPR
	- (BUG ID 2798284) the mouse tools appear twice in the toolbar customization panel
	- (BUG ID 2798286) not possible to choose the repulsor or the text-ROI (ok), but if using the keyboard shortcuts for these tools (R) and (T), it selects them...
	- (BUG ID 2798291) Shadings: not possible to add presets although the GUI is there

----------------------------------------

Cours
- Basics:
- dmg, export dicom cd, html export
- web server

- Report modality - study description
- WADO Client/Server
- Hanging Protocol

- Password DB in keychain
- Preferences for Status menu in DB
- Merge Exports to Quicktime, Files, DICOM Files, DICOM Node
- Is it possible to place keyed images into a report automatically when generating a report?
- Worklist DICOM

for i in `ls -a | grep plugin`; do tempfile="`basename "$i" .plugin`.osirixplugin"; mv $i $tempfile; done;

for i in `ls *.*`; do mv "$i" "$i"ppc; done

for i in `ls *.a`; do lipo -create "$i" "$i"ppc -output "$i"final; done

VTK MODIFICATIONS : 

Optimizations:

-march=nocona -ffast-math -funroll-loops -ftree-vectorize -fomit-frame-pointer

-mtune=nocona -mmmx -msse -msse2 -msse3 -mfpmath=sse

ITK: remove Wmo long double in CMakeLists.txt, after generating
__isnand dans vnl_math.cxx, remplacer avec __inline_isnand (voir math.h)

Done in VTKView.mm from OsiriX:
	- SetWindowName : 0L
	- Retain/Release system in VTKCocoaWindow

- TURN OFF FREETYPE CACHE SUPPORT in vtkFreeTypeUtilities.h (//# define VTK_FREETYPE_CACHING_SUPPORTED) __ppc64__
IT SEEMS TO WORK IF WE DONT CHANGE THE SIZE....
#if (__ppc64__) || (__ppc__)
//# define VTK_FREETYPE_CACHING_SUPPORTED
#else
# define VTK_FREETYPE_CACHING_SUPPORTED
#endif

for i in `ls *.dylib`; do install_name_tool -id @executable_path/../Frameworks/"$i" "$i"; done

- WARNING MEMORY LEAK IN SetCocoaManager (vtkCocoaRenderWindowInteractor and vtkCocoaRenderWindow) :

if (manager == NULL)
    {
    NSMutableDictionary* cocoaManager = 
      reinterpret_cast<NSMutableDictionary *>(this->CocoaManager);
    #ifdef __OBJC_GC__
      [[NSGarbageCollector defaultCollector]
        enableCollectorForPointer:cocoaManager];
    #else
      [cocoaManager release];
    #endif
    }

- Alpha rendering for freetype text : see below

- Switch default gcc compiler

cd /usr/bin
sudo rm gcc
sudo ln -s gcc-4.2 gcc
sudo rm c++
sudo ln -s c++-4.2 c++

Index: Rendering/vtkFreeTypeUtilities.cxx
===================================================================
RCS file: /cvsroot/VTK/VTK/Rendering/vtkFreeTypeUtilities.cxx,v
retrieving revision 1.29
diff -r1.29 vtkFreeTypeUtilities.cxx
160c160
<   this->ImageCache   = NULL;
---
>   this->ImageCache   = NULL;cccc
1250c1250
< 
---
> 	  
1258c1258,1259
<           t_alpha = tprop_opacity * (*glyph_ptr / 255.0); 
---
>           t_alpha = tprop_opacity * (*glyph_ptr / 255.0);	// 
> 		  
1260c1261,1263
<           data_alpha = (data_ptr[3] - data_min) / data_range;
---
>           
> 		  data_alpha = (data_ptr[3] - data_min) / data_range;
> 		  
1262c1265,1266
<             data_min + data_range * tprop_r);
---
>             data_min + data_range * tprop_r*t_alpha + 
>                 (*data_ptr * data_alpha) * t_1_m_alpha);
1263a1268
> 		  
1265c1270,1271
<             data_min + data_range * tprop_g);
---
>             data_min + data_range * tprop_g*t_alpha + 
>                 (*data_ptr * data_alpha) * t_1_m_alpha);
1266a1273
> 		  
1268c1275,1276
<             data_min + data_range * tprop_b);
---
>             data_min + data_range * tprop_b*t_alpha + 
>                 (*data_ptr * data_alpha) * t_1_m_alpha);
1269a1278
> 		  
1271a1281
> 			
Index: Rendering/vtkFreeTypeUtilities.h
===================================================================
RCS file: /cvsroot/VTK/VTK/Rendering/vtkFreeTypeUtilities.h,v
retrieving revision 1.11
diff -r1.11 vtkFreeTypeUtilities.h
42c42
< # define VTK_FREETYPE_CACHING_SUPPORTED
---
> //# define VTK_FREETYPE_CACHING_SUPPORTED
Index: Rendering/vtkOpenGLFreeTypeTextMapper.cxx
===================================================================
RCS file: /cvsroot/VTK/VTK/Rendering/vtkOpenGLFreeTypeTextMapper.cxx,v
retrieving revision 1.47
diff -r1.47 vtkOpenGLFreeTypeTextMapper.cxx
208a209,210
> 	return;
> 

//make CFLAGS="-isysroot /Developer/SDKs/MacOSX10.5.sdk -arch ppc -arch i386 -arch x86_64" LDFLAGS="-syslibroot /Developer/SDKs/MacOSX10.5.sdk -arch ppc -arch i386 -arch x86_64"

make CFLAGS="-isysroot /Developer/SDKs/MacOSX10.5.sdk -arch ppc64" LDFLAGS="-syslibroot /Developer/SDKs/MacOSX10.5.sdk -arch ppc64"

// Not true anymore?
-- OpenJPEG 64bit support:
-- m = (int*)opj_malloc(sizeof(int) * (dwt_decode_max_resolution(tr, i)+5));
-- h.mem = v.mem = (int*)( (unsigned long)m + 16 - ( (unsigned long)m % 16 ) ) ;

OpenJPEG optimization:
make CFLAGS="-isysroot /Developer/SDKs/MacOSX10.5.sdk -arch ppc -arch i386 -arch x86_64 -O3 -fPIC -msse -msse2 -msse3 -ffast-math -funroll-loops -ftree-vectorize -fomit-frame-pointer" LDFLAGS="-syslibroot /Developer/SDKs/MacOSX10.5.sdk -arch ppc -arch i386 -arch x86_64" osx

voxray
ray
xray
omnirad
bitpix
voxpix
voxrad
spectral
volumic
gnu