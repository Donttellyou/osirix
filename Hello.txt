TODO:

- 4D for Ortho MPR
- Convolution in 3D
- Restore a volume (scissor)
- Interactive segmentation: plain ROI / 2D ROI
- MPR views in VR
- New study for keyimages
- Opacity table for 16-bit, floating window, thumbnails for presets
- MPR 3 planes for curved-MPR
- Segmentation in RGB
- Preview Segmentation in 2D brush
- Check image orientation in DCM printing
- Free rotation for crop box if not PET-CT
- Add flip angle if MR

Web Site:
http://developer.apple.com/documentation/Porting/Conceptual/PortingUnix/compiling/chapter_4_section_3.html

DEFINE:

#ifdef __LP64__
#endif

For DCMTK and JASPER headers:

replace in jas_config.h and cfunix.h
#define SIZEOF_LONG 4

by

#ifdef __LP64__
#define SIZEOF_LONG 8
#else
#define SIZEOF_LONG 4
#endif

#ifdef __LP64__
#define SIZEOF_UNSIGNED_LONG 8
#else
#define SIZEOF_UNSIGNED_LONG 4
#endif

#ifdef __LP64__
#define SIZEOF_VOID_P 8
#else
#define SIZEOF_VOID_P 4
#endif

LIPO:

lipo -create a64.lib b32.lib -output combined

LIBTIFF 3.8.2:

./configure CFLAGS="-isysroot /Developer/SDKs/MacOSX10.4u.sdk -arch ppc64" LDFLAGS="-Wl,-syslibroot,/Developer/SDKs/MacOSX10.4u.sdk -arch ppc64" CXXFLAGS="-isysroot /Developer/SDKs/MacOSX10.4u.sdk -arch ppc64" --host=ppc64

make clean

make

Hidden folder:
cd .libs

Ensuite, utiliser lipo

Pour changer le default path de la dylib:
http://www.cocoadev.com/index.pl?ApplicationLinking

otool, install_name_tool:

otool -D libtiff.3.dylib
install_name_tool -id @executable_path/../Frameworks/libtiff.dylib libtiff.3.dylib

JASPER:

./configure CFLAGS="-isysroot /Developer/SDKs/MacOSX10.4u.sdk -arch ppc64" LDFLAGS="-Wl,-syslibroot,/Developer/SDKs/MacOSX10.4u.sdk -arch ppc64" CXXFLAGS="-isysroot /Developer/SDKs/MacOSX10.4u.sdk -arch ppc64"

make clean

make

Hidden folder:
cd /Users/antoinerosset/jasper-1.701.0/src/libjasper/.libs

Jasper, make: une seule architecture a la fois...

Ensuite, utiliser lipo

ITK/VTK:

CMAKE_CXX_FLAGS -arch ppc64 -arch ppc -arch i386 -arch x86_64
CMAKE_C_FLAGS -arch ppc64 -arch ppc -arch i386 -arch x86_64
CMAKE_OSX_ARCHITECTURES ppc;ppc64;i386;x86_64
CMAKE_OSX_SYSROOT /Developer/SDKs/MacOSX10.5.sdk

VTK:

Les PPCIntrinsecs.h ont été ôtés

FTMac.c pour les fonts: beaucoup de fonctions DEPRECATED.....

OrientationWidget doesn't work

ITK:

__isnand dans vnl_math.cxx, remplacer avec __inline_isnand (voir math.h)

OSIRIX:

1) Le SDK à MacOS10.5
2) Oter le 10.4usdk dans le framework path
3) Header tiff: unsigned int au lieu de unsigned long
4) Quicktime, only 32-bit... utiliser QTKit